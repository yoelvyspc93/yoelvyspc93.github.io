---
import Layout from '@/layouts/Layout.astro'
import Hero from '@/sections/home/Hero.astro'
import About from '@/sections/home/About.astro'
import Projects from '@/sections/home/Projects.astro'
import Experience from '@/sections/home/Experience.astro'
import Skills from '@/sections/home/Skills.astro'
import Contact from '@/sections/home/Contact.astro'
import Faq from '@/sections/home/Faq.astro'
import { getEntry } from 'astro:content'

const home = await getEntry('home', 'index')
const sections = await getEntry('sections', 'index')
const contact = await getEntry('contact', 'index')

if (!home || !sections || !contact) {
	throw new Error('Home content entry not found.')
}
---

<Layout>
	<main id="main-content">
		<Hero content={home.data.hero} ctas={sections.data.hero} />
		<About content={home.data.about} media={sections.data.about} />
		<Projects content={home.data.projects} labels={sections.data.projects} />
		<Experience content={home.data.experience} labels={sections.data.experience} />
		<Skills content={home.data.skills} labels={sections.data.skills} />
		<Faq content={home.data.faq} />
		<Contact
			content={home.data.contact}
			labels={sections.data.contact}
			meta={contact.data}
		/>
	</main>
</Layout>
